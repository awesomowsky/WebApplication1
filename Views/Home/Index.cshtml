@model List<Items>

@{
    ViewData["Title"] = "Moje pliki";
    int i = 0;
}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

   <h2>Lista moich plików</h2>    
   <br />

@*
<table class="table">
    <thead class="thead-dark">
        <tr>
            <th scope="col"></th>
 
        
        </tr>
    </thead>
    <tbody>

        @foreach (var group in Model.GroupBy(x => new { x.id, x.FileName, x.UploadedDate,x.FilePath }))
    {
        <tr class="group-header">
            <td colspan="6">
                <span class="h3">@group.Key.FileName</span>
                    <p class="h3">@group.Key.UploadedDate</p>
                    <span>   <a class="btn btn-info" asp-action="ViewFile" asp-route-fn="@group.Key.id" asp-controller="OtherUsers">View</a></span>
                    <span>   <a class="btn btn-primary" asp-route-fn="@group.Key.FilePath" asp-action="Download" asp-controller="OtherUsers">Download</a></span>
                    <span>   <a class="btn btn-danger" asp-action="Delete" asp-route-id="@group.Key.id">Delete</a></span>
            </td>
        </tr>
        foreach (var item in group)
        {
            <tr>
      
                <td>
                       <b> @Html.DisplayFor(modelItem => item.UserName) : </b>
                    @Html.DisplayFor(modelItem => item.comments)
                </td>

           
            </tr>
        }

    }
    </tbody>
</table>*@



<br />
<table class="table">
    <thead class="thead-dark">
        <tr>
            <th scope="col">#</th>
            <th scope="col">Nazwa pliku</th>
            <th scope="col">Data dodania</th>
            <th scope="col"></th>
            <th scope="col"></th>
            <th scope="col"></th>
            <th scope="col"></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var obj in Model)
        {
            i++;
            <tr>
                <th scope="row">@i</th>
                <td>@obj.FileName</td>
                <td>@obj.UploadedDate</td>

              
                    <td> <a class="btn btn-info" asp-action="ViewFile" asp-controller="OtherUsers" asp-route-fn="@obj.FilePath">Podgląd</a></td>
               
               
                    <td> <a class="btn btn-primary" asp-action="Download" asp-controller="OtherUsers" asp-route-fn="@obj.FilePath">Pobierz</a></td>
                <td> <a class="btn btn-primary" asp-action="ViewComments" asp-controller="OtherUsers" asp-route-id="@obj.id" asp-route-typ="1">Zobacz komentarze</a></td>

                <td> <a class="btn btn-danger" asp-action="Delete" asp-controller="Home" asp-route-id="@obj.id">Usuń</a></td>
                   </tr>
        }
    </tbody>
</table>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>